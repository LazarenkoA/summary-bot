package giga

import (
	"context"
	"fmt"
	"testing"

	"github.com/stretchr/testify/assert"
)

func Test_GetSummary(t *testing.T) {
	cli, err := NewGigaClient(context.Background(), "MTZmODdlMmUtOTJiNy00NzNlLWE0ODItMWY2OWU4ZjhmNjNlOmUwYWI5NDgwLTFjZjUtNDYzMi1hZWIxLTM0OWE0MmE1NDJiNg==")
	assert.NoError(t, err)

	txt := `–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: @vladimir_nadulich —Ä–∞–∑ —Ç—É—Ç –ø—è—Ç–Ω–∏—Ü–∞, —Å–∫–∞–∂–∏, —É –≤–∞—Å —Ç–∞–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Å–æ–ª–∏ –≤ –ú–æ–∑—ã—Ä–µ —Å–ª–æ–º–∞–ª–æ—Å—å —á—Ç–æ-–ª–∏? –ì–æ–¥ –Ω–∞–∑–∞–¥ 100 –∫–≥ –±—Ä–∞–ª –∑–∞ 1600, –∞ —Å–µ–π—á–∞—Å 4000 –º–∏–Ω–∏–º—É–º
	Vladimir Nadulich: –ë—Ä–∞–ª –Ω–µ–¥–∞–≤–Ω–æ –∫–≥ –∑–∞ 0.78 –∫–æ–ø –∫–∞–∂–µ—Ç—Å—è. –ü–µ—Ä–µ–≤–æ–¥–∏
		–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ù–µ, —è –æ —Ç–∞–±–ª–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π
	–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –ü–∞–∂–∂–∏, –Ω–∞ –∫–æ–π —Ö—Ä–µ–Ω —Ç–µ–±–µ 100–∫–≥ —Å–æ–ª–∏? –≠—Ç–æ —Å—Ä–µ–¥–Ω–µ—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–º—É —á–µ–ª–æ–≤–µ–∫—É —Ö–≤–∞—Ç–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ –¥–≤–µ –∂–∏–∑–Ω–∏
		John Doe: –°–æ–≤–º–µ—Å—Ç–Ω—ã–µ –∑–∞–∫—É–ø–∫–∏
		–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –î–ª—è —Å–∏—Å—Ç–µ–º—ã –≤–æ–¥–æ–æ—á–∏—Å—Ç–∫–∏
			–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –Ø –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ —á–µ–≥–æ —Ç–æ –Ω–µ –∑–Ω–∞—é –æ —Å–∏—Å—Ç–µ–º–µ –≤–æ–¥–æ–æ—á–∏—Å—Ç–∫–∏
				–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–∞—Å—Å–æ–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–º—è–≥—á–µ–Ω–∏—è –≤–æ–¥—ã –∏ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–æ–Ω–æ–æ–±–º–µ–Ω–Ω–æ–π —Å–º–æ–ª—ã (–∫–æ—Ç–æ—Ä–∞—è –Ω—É–∂–Ω–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ—Å–µ–π –∂–µ–ª–µ–∑–∞) –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –≤–æ–¥–æ–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏. –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —á–∞—Å—Ç–Ω—ã—Ö –¥–æ–º–∞—Ö –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –≤–æ–¥—ã –∏–∑ —Å–∫–≤–∞–∂–∏–Ω –∏ –≤ –º–∞–ª—ã—Ö –¥–æ–∑–∞—Ö - –≤ –ø–æ—Å—É–¥–æ–º–æ–π–∫–∞—Ö –¥–ª—è —É–º—è–≥—á–µ–Ω–∏—è (—à–æ–± –±–µ–ª–æ–≥–æ –Ω–∞–ª–µ—Ç–∞ –Ω–µ –±—ã–ª–æ)
					–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –Ø—Å–Ω–µ–Ω—å–∫–æ.–ù—É —É –Ω–∞—Å —Ç—É—Ç –≤ —Ü–µ–ª–æ–º –≤–æ–¥–∞ –æ—á–µ–Ω—å –º—è–≥–∫–∞—è, —Ç–∞–∫ —á—Ç–æ –∑–∞–¥–∞—á–∏ —É–º—è–≥—á–µ–Ω–∏—è –≤ –≥–æ—Ä–æ–¥–µ –∫–∞–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –Ω–µ —Å—Ç–æ–∏—Ç.–ê —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —ç—Ç–æ –ø—Ä–∏–∫–æ–ª—å–Ω–æ
						–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –£–º—è–≥—á–µ–Ω–∏–µ - —ç—Ç–æ —Å–∞–π–¥—ç—Ñ—Ñ–µ–∫—Ç. –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ - —ç—Ç–æ –æ—á–∏—Å—Ç–∫–∞ –æ—Ç –∂–µ–ª–µ–∑–∞ –ø—Ä–∏ –∞—ç—Ä–∞—Ü–∏–∏
							Vladimir Nadulich: –∑–∞—á–µ–º –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å—é –≤–æ–¥—É –≤ –¥–æ–º–µ?
								–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ù–µ —É—à–∞—Ç—ã–∞—Ç—å —ç–ª–µ–∫—Ç—Ä–æ –∏ —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫—É
									Vladimir Nadulich: —Ö–∫–µ... —á–µ–º?–ø—É—Å—Ç—å —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –±–æ–π–ª–µ—Ä... –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –µ—Å—Ç—å –¥–æ —ç—Ç–æ–≥–æ –¥–µ–ª–æ?
										–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ü–æ—Å—É–¥–æ–º–æ–π–∫–∞, —Å—Ç–∏—Ä–∞–ª–∫–∞, –≤—Å—è —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞, –∫–æ—Ç–µ–ª, –±–æ–π–ª–µ—Ä, –≤—Å–µ —Ç—Ä—É–±—ã –≤ –¥–æ–º–µ, –≥–∏–¥—Ä–æ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä, —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∞ –ø–∏—Ç—å–µ–≤—É—é –≤–æ–¥—É. –≠—Ç–æ –µ—â—ë –¥–∞–ª–µ–∫–æ –Ω–µ –≤—Å–µ, —á—Ç–æ —É—à–∞—Ç—ã–≤–∞–µ—Ç—Å—è
			–ìüêà—Ä—Ä–∏: –∞ –æ—Ç–∫—É–¥–∞ —Ç—ã –≤–æ–¥—É –¥–æ–±—ã–≤–∞–µ—à—å? –£ —Ç–µ–±—è —Ç–∞–º —Å–∫–≤–∞–∂–∏–Ω–∞, –∏–ª–∏ –∫–∞–∫–∞—è-—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥–∞—á–∞?
				–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –ü—Ä–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –≤–æ–¥–æ–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —É–∂–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∞, —Ç–∞–º –∫–∞–∫ –º–∞–∫—Å–∏–º—É–º —Ñ–∏–ª—å—Ç—Ä —Ç–æ–Ω–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ –≤–ø–∞—è—Ç—å –æ—Å—Ç–∞—ë—Ç—Å—è.)
					–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –î–∞–ª–µ–∫–æ–æ–æ–æ–æ –Ω–µ —Ç–∞–∫–∞—è
						–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –Ø –∏–º–µ—é –≤–≤–∏–¥—É —á—Ç–æ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–∞—á–∏ –≤–æ–¥—ã –Ω–µ –Ω—É–∂–Ω–∞ —Å–≤–æ—è —Å—Ç–∞–Ω—Ü–∏—è –≤–æ–¥–æ–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ
							–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –•–æ—Ä–æ—à–æ –±—ã, —á—Ç–æ-–±—ã –±—ã–ª–∞. –ù–æ  —Ç–∞–∫–∞—è –¥–æ—Ä–æ–≥–∞—è –Ω–µ –Ω—É–∂–Ω–∞ (–º–Ω–µ –≤ 140 –æ–±–æ—à–ª–∞—Å—å)
								–ìüêà—Ä—Ä–∏: –•–æ—á–µ—à—å —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥–∞—á–∞ –≤–æ–¥—ã —É –≤–∞—Å - —ç—Ç–æ —Ç–∏–ø–∞ –ø—Ä–∏–≤–µ–ª–µ–≥–∏—è –±–æ–≥–∞—Ç—ã—Ö?
									–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ï–µ –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç. –ì–¥–µ-—Ç–æ –¥–µ–ª–∞—é—Ç –æ–±—â—É—é –Ω–∞ –∫–æ—Ç—Ç–µ–¥–∂–Ω—ã–π –ø–æ—Å–µ–ª–æ–∫, –Ω–æ –Ω—É –µ–≥–æ –Ω–∞—Ñ–∏–≥
								–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –î–∞ —Ç–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±—ã—á–Ω–æ–≥–æ –≤–≤–æ–¥–Ω–æ–≥–æ —É–∑–ª–∞, —Ç–∏–ø–∞ —Ñ–∏–ª—å—Ç—Ä –º–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏, —Ñ–∏–ª—å—Ç—Ä —Ç–æ–Ω–∫–æ–π –æ—á–∏—Å—Ç–∫–∏, –Ω—É –∏ –µ—Å–ª–∏ –ø–∏—Ç—å–µ–≤—É—é —Ö–æ—á–µ—Ç—Å—è –µ—â—ë –∫–æ–ª–±—ã –≤–ø–∞—è—Ç—å
				–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –°–∫–≤–∞–∂–∏–Ω–∞. –î–∞–∂–µ –µ—Å–ª–∏ –±—ã –±—ã–ª–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è, —Ç–æ –≤—Å–µ —Ä–∞–≤–Ω–æ —Å–∫–≤–∞–∂–∏–Ω—É –ø—Ä–æ—Ä—ã–ª –±—ã. –ù–µ –∑–∞–≤–∏—Å–∏—à—å –Ω–∏ –æ—Ç –∫–æ–≥–æ –∏ –≤–æ–¥–∞ —á–∏—â–µ. –ù–æ –¥–µ–Ω–µ–≥ —Å—Ç–æ–∏—Ç
					–ìüêà—Ä—Ä–∏: –∞ –≥–ª—É–±–∏–Ω–∞ –∫–∞–∫–∞—è?
						–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –£ –Ω–∞—Å —Ç—É—Ç 70
							–ìüêà—Ä—Ä–∏: –ê –µ—Å–ª–∏ –∫ –Ω–µ–π —É—Ö–æ–º –ø—Ä–∏–ª—å–Ω—É—Ç—å, - –≥–æ–ª–æ—Å–∞ —Å–ª—ã—à–Ω–æ –æ—Ç—Ç—É–¥–æ–≤–∞?
								–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –†–∞–±–æ—á–∏—Ö –∫–æ—Ç–æ—Ä—ã–µ —Å–∫–≤–∞–∂–∏–Ω—É –∫–æ–ø–∞–ª–∏?
								–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ù–µüòÅ
								–ù–∏–∫–∏—Ç–∞ –ê–≤–¥–µ–µ–≤: –ú–Ω–µ –∫–∞–∂–µ—Ç—Å—è –∞–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —á—É—Ç—å –¥–∞–ª—å—à–µ 70-—Ç–∏ –º–µ—Ç—Ä–æ–≤
					Vladimir Nadulich: –ù–∞ –¥–∞—á–µ —Å–æ—Å–µ–¥–∏ –¥–æ –∞–≤—Å—Ç—Ä–∞–ª–∏–∏ –ø—Ä–æ–±—É—Ä–∏–ª–∏ - –∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –±–æ–ª–æ—Ç–æ (–ø–∞—Ö–Ω–µ—Ç —Å–µ—Ä–æ–≤–æ–¥–æ—Ä–æ–¥–æ–º)–î—Ä—É–≥–æ–º—É —Å–æ—Å–µ–¥—É "–ø—Ä–æ–∫–∞—á–∞–µ—Ç—Å—è" —Å–∫–∞–∑–∞–ª–∏ —Ä–∞–±–æ—Ç—è–≥–∏... –ø—Ä–æ—à–ª–æ –±–æ–ª–µ–µ 30 –ª–µ—Ç - –Ω–µ –ø—Ä–æ–∫–∞—á–∞–ª–∞—Å—å ))–¢–∞–∫ —á—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ —Å–≤–æ—è —Å–∫–≤–∞–∂–∏–Ω–∞ –ª—É—á—à–µ.–ó–∞ —Ç–æ (–∫–∞–∫ –º–Ω–µ –ø–æ–∫–∞–∑–∞–ª–æ—Å—å) –≤–æ–ª–æ—Å—ã –Ω–∞ –º–æ–µ–π –ª—ã—Å–æ–π –≥–æ–ª–æ–≤–µ –±–æ–ª–µ–µ —à–µ–ª–∫–æ–≤–∏—Å—Ç—ã–µ –æ—Ç —Å–µ—Ä–æ–≤–æ–¥–æ—Ä–æ–¥–∞ –ø–æ—Å–ª–µ –¥—É—à–∞))
						–ìüêà—Ä—Ä–∏: –≤–∞–Ω–Ω—ã —Ç–æ–∂–µ –ø—Ä–∏–Ω–∏–º–∞–µ—à—å?
							Vladimir Nadulich: –Ω–µ, –≤–∞–Ω–Ω—ã –Ω–µ—Ç—É (—ç—Ç–æ –¥–∞—á–∞)
								–ìüêà—Ä—Ä–∏: –ù–∞–¥–æ –∫—É–ø–∏—Ç—å. –ò –ø—Ä–∏–Ω–∏–º–∞–π.
						–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ê—Ä—Ç–µ–∑–∏–∞–Ω—Å–∫–∞—è (–≥–ª—É–±–æ–∫–∞—è), —á–∞—Å—Ç–æ, –º–æ–∂–µ—Ç –±—ã—Ç—å –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –≥—Ä—è–∑–Ω–∞—è, —á–µ–º –≤ –≤–µ—Ä—Ö–Ω–∏—Ö —Å–ª–æ—è—Ö (–∑–∞—Ç–æ –¥–µ–±–µ –±–æ–ª—å—à–µ). –ê —Å–µ—Ä–æ–≤–æ–¥–æ—Ä–æ–¥ –≤–æ–æ–±—â–µ –ª–µ–≥–∫–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è
							Vladimir Nadulich: —Ö–º–º–º, –∫–∞–∫?
								–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –£–≥–æ–ª—å–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏. BB10/BB20
									–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ò –∏–º–∏ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–µ—Ä–æ–≤–æ–¥–æ—Ä–æ–¥, –∞ –≤–æ–æ–±—â–µ –ø–æ—á—Ç–∏ –ª—é–±—ã–µ –∑–∞–ø–∞—Ö–∏
									Vladimir Nadulich: –Ω—É–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å—É –º–µ–Ω—è –≤–æ–¥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –º–∞–ª–æ–µ —Å–æ–≤—Å–µ–º –≤ –¥–æ–º–µ, –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ –Ω–µ—Ç
										–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –í–æ—Ç —Ç–∞–∫–æ–π –≤–æ–∑—å–º–∏ (–∏–º–µ–Ω–Ω–æ 0.6). –ü–æ—á—É–≤—Å—Ç–≤—É–µ—à—å —Å–∏–ª—å–Ω—ã–π –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫–∞—á–æ–∫
											Vladimir Nadulich: –≤–µ—Å–Ω–æ–π –ø–æ–ø—Ä–æ–±—É—é) —Ç–∞–∫ —Ç–æ –º—ã –µ–µ –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –ø—å–µ–º
						–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –ê –Ω–µ—Ö—Ä–µ–Ω –∫–æ–ø–∞—Ç—å –±–µ–∑ –≥–µ–æ–ª–æ–≥–∏–∏
							Vladimir Nadulich: —à—Ç–∞? –∫–∞–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã? –æ—Ç—Å—Ç—É–ø–∏—Ç–µ –æ—Ç —Ä–µ–∫–∏ –±–æ–ª–µ–µ –∫–∏–ª–æ–º–µ—Ç—Ä–∞?—á—Ç–æ —Ç–∞–∫–æ–µ –≥–µ–æ–ª–æ–≥–∏—è? —Ä–∞–∑–≤–µ–¥–∫–∞ –±—É—Ä–µ–Ω–∏–µ–º?
								–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –ì–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–∑—ã—Å–∫–∞–Ω–∏—è–õ—é–¥–µ–π –∑–æ–≤—ë—à—å, –æ–Ω–∏ —É —Ç–µ–±—è –∫–æ–ø–∞—é—Ç –≤ –≥–ª—É–±—å –∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç –≥–¥–µ —É —Ç–µ–±—è —á—ë –∑–∞–ª–µ–≥–∞–µ—Ç
									Vladimir Nadulich: –∫–æ–ø–∞—Ç—å, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –ø—Ä–æ–±—É–¥–∏—Ç—å 50–º–º —Ç—Ä—É–±—É?–°–∫–≤–∞–∂–∏–Ω–∞ —Å—Ç–æ–∏—Ç 10$ –∑–∞ –º–µ—Ç—Ä. –í—ã–∑–≤–∞–ª, —Å–¥–µ–ª–∞–ª–∏, —É–µ—Ö–∞–ª–∏. –ö–æ–ø–µ–π–∫–∏. –ù–∞ 100+–º–º –≤ 2-3 —Ä–∞–∑–∞ –¥–æ—Ä–æ–∂–µ.–†–∞–∑–≤–µ–¥–∫–∞ - —ç—Ç–æ —Ç–∞ –∂–µ —Å–∫–≤–∞–∂–∏–Ω–∞, –ø—Ä–æ—Å—Ç–æ –µ—â–µ –æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞.
										–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –†–∞–∑–≤–µ–¥–∫–∞ –≤—Å–µ —Ä–∞–≤–Ω–æ —É–∂–µ –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –±—ã—Ç—å –¥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–æ–º–∞, —Ç–∞–∫ —á—Ç–æ –æ–±—ã—á–Ω–æ –∫ –º–æ–º–µ–Ω—Ç—É —Å–∫–≤–∞–∂–∏–Ω—ã –æ–Ω–∞ —Ç–∞–∫ –∏–ª–∏ –∏–Ω–∞—á–µ –µ—Å—Ç—å
											Vladimir Nadulich: –∫—É–ø–∏–ª –¥–æ–º –≤ –¥–µ—Ä–µ–≤–Ω–µ–≤–æ—Ç —Ç–µ–±–µ —Ä–µ–∫–∞, –≤–æ—Ç –∫–æ–Ω—é—à–Ω—è, –≤–æ—Ç –ø—å—è–Ω—ã–π –º–∏—Ö–∞–ª—ã—á–û–Ω –≤–¥–≤—à–Ω–∏–∫, –≤–æ—Ç –æ–Ω –∏ —Å–ª—É–∂–∏–ª –≤ —Ä–∞–∑–≤–µ–¥–∫–µ.
												–ù–∏–∫–∏—Ç–∞ –ê–≤–¥–µ–µ–≤: –í —Ç–≤–æ–µ–º –¥–æ–º–µ –≤ –¥–µ—Ä–µ–≤–Ω–µ?
													Vladimir Nadulich: –î–∞, –ø–æ–¥ –¥–∞—á—É. –ê –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –≥–æ—Ä–æ–¥–µ.
													–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –≠—Ç–æ –Ω–µ—Å—É—â–∏–π –ú–∏—Ö–∞–ª—ã—á
													Vladimir Nadulich: –∞ –º–∏—Ö–∞–ª—ã—á... —ç—Ç–æ –æ–±—Ä–∞–∑, –ø—Ä–∏–∑–Ω–∞–∫, –ª–µ–≥–µ–Ω–¥–∞, —ç—Ç–Ω–æ—Å ))
												–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –ò —á–µ—Ä–µ–∑ –¥–≤–∞ –≥–æ–¥–∞ —Ç–µ–±–µ –Ω–∞ –≥–æ–ª–æ–≤—É —É–ø–∞–ª–∞ —Ç–≤–æ—è –≥—Ä—É–¥–∞ –ø–∏–ª–æ–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Å–ª–æ–∂–µ–Ω–Ω–∞—è –≤ –¥–æ–º–æ–ø–æ–¥–æ–±–Ω—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –Ω–æ –ø–æ —Ñ–∞–∫—Ç—É —è–≤–ª—è—é—â—É—é—Å—è —Å–∞—Ä–∞–µ–º.–ö–ª–∞—Å—Å–∏–∫–∞
													Vladimir Nadulich: –≠—Ç–æ –∫–æ–≥–¥–∞ —Ç—ã —Å—Ç—Ä–æ–∏—à—å—Å—è.–£ –º–µ–Ω—è –∑–Ω–∞–∫–æ–º—ã–µ –ø–æ–¥ –º–æ–ª–æ–¥–µ—á–Ω–æ –≤ –≥–ª—É—Ö—É—â–µ–π –¥–µ—Ä–µ–≤–Ω–µ –∫—É–ø–∏–ª–∏ –¥–æ–º - –µ–º—É 100 –ª–µ—Ç. –í–µ–Ω—Ü—ã –µ—â–µ –Ω–µ —Å–≥–Ω–∏–ª–∏. –û—Ç–∫—Ä—ã—Ç—ã–µ –±—Ä–µ–≤–Ω–∞ —Å–Ω–∞—Ä—É–∂–∏. –ö–∞–π—Ñ—É—é—Ç –æ—Ç "—Å—Ç–∞—Ä–∏–Ω—ã" –∏ –æ—Ç –≥–ª—É—à–∏.–ß–µ–º—É —Ç–∞–º —É–∂–µ –ø—Ä–æ—Å–µ–¥–∞—Ç—å –≤ –ø–æ—á–≤–µ?
														–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –ï—Å–ª–∏ –¥–æ–º—É —Å—Ç–æ –ª–µ—Ç, —Ç–æ –æ–Ω —Å–∞–º —É–∂–µ –∫–∞–∫ –ø–æ—á–≤–∞ –ø—Ä–∏–º–µ—Ä–Ω–æ.–£ –Ω–∏—Ö –Ω–µ —Ç–∞–∫–æ–π —Å—Ä–æ–∫ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏.)
						–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –°–µ—Ä–æ–≤–æ–¥–æ—Ä–æ–¥, –∫—Å—Ç–∞—Ç–∏, –Ω–µ –±–æ–ª–æ—Ç–æ–º –ø–∞—Ö–Ω–µ—Ç (–±–æ–ª–æ—Ç–æ - —ç—Ç–æ —á—É—Ç—å –∑–∞—Å—Ç–æ–π–Ω–∞—è –≤–æ–¥–∞). –ü—Ä–∏ —Ä–∞—Å—Ç–≤–æ—Ä–µ–Ω–Ω–æ–º —Å–µ—Ä–æ–≤–æ–¥–æ—Ä–æ–¥–µ —Å—Ç–æ–∏—Ç —Å–∏–ª—å–Ω—ã–π –∑–∞–ø–∞—Ö –≥–æ..–Ω–∞üòÑ–°–∫–≤–∞–∂–∏–Ω–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø—Ä–æ–∫–∞—á–∏–≤–∞—Ç—å—Å—è –∏ —á–µ–º –±–æ–ª—å—à–µ - —Ç–µ–º —á–∏—â–µ —Ç–∞–º –±—É–¥–µ—Ç
					John Doe: –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ:- –î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä...
						Andrey Konev: –†–∞–∑–±–∞–ª–æ–≤–∞–ª–∞ –≤–∞—Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—è
							John Doe: –ù–∞—Å?
						Vladimir Nadulich: –ö–æ—Å—Ç–µ—Ä –≤–æ –¥–≤–æ—Ä–µ: –¥–∞ –ø–æ—à–ª–æ –æ–Ω–æ –Ω–∞—Ö–µ—Ä, –ø–æ—Å–∏–¥–∏–º –≤ —Ç–µ–º–Ω–æ—Ç–µ, –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–æ–º–µ—Ç—É. –ù–∞–ª–∏–≤–∞–π.
							–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –£ –Ω–∞—Å –∫–æ–≥–¥–∞ –æ—Ç–∫–ª—é—á–∞—é—Ç, –º—ã –ø—Ä—è–º–æ —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –≤—ã–≤–∞–ª–∏–≤–∞–µ–º—Å—è –Ω–∞ —É–ª–∏—Ü—É –∏ –∂–∞—Ä–∏–º —Å—ë–º–≥—É –≤ –±–∞—Ä–±–µ–∫—é—à–Ω–∏—Ü–µ —Å —à–∞–º–ø–∏–Ω—å–æ–Ω–∞–º–∏ –¥–ª—è –≥—Ä–∏–ª—è.PS: –∞–∂ —Å–µ–π—á–∞—Å –∑–∞—Ö–æ—Ç–µ–ª–æ—Å—å üòä
						–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –∫—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π
							John Doe: –ë–µ–Ω–∑–∏–Ω / –≥–∞–∑:- –°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏
								–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –≠—Ç–æ–≥–æ –¥–æ–±—Ä–∞ —É –º–µ–Ω—è –≤—Å–µ–≥–¥–∞ –Ω–∞–≤–∞–ª–æ–º. –¢–µ—Ö–Ω–∏–∫–∏ –∫—É—á–∞ –≤—Å—è–∫–æ–π
									John Doe: –ù–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞—Ö –Ω–µ —Å–æ–≤–µ—Ç—É–µ—à—å?
										–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ò—Ö –º–µ–Ω—è—Ç—å –Ω–∞–¥–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏, –æ–±–µ—Ä–µ–≥–∞—Ç—å –æ—Ç —Ö–æ–ª–æ–¥–∞, —Ç.–∫. –¥–µ–≥—Ä–∞–¥–∏—Ä—É—é—Ç. –ú—É—Ç–æ—Ä–Ω–æ –∏ –¥–æ—Ä–æ–≥–æ. –ü—Ä–æ—â–µ —Ç–∞—Ä–∞—Ö—Ç–µ–ª–∫—É –∑–∞–≤–µ—Å—Ç–∏ –Ω–µ–Ω–∞–¥–æ–ª–≥–æ
											John Doe: –≠—Ç–æ —Ç—ã –ø—Ä–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞?
												–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –î–∞
											Vladimir Nadulich: –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–µ–∂—É—Ä–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ, –¥–∞ –µ—â–µ –∏ –Ω–æ—á—å—é - —Ç–æ —Ç–∞—Ä–∞—Ö—Ç–µ–ª–∫–∞ –Ω–µ –æ—á–µ–Ω—å ))
												–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω—ã–µ —Ñ–æ–Ω–∞—Ä–∏. –ù–æ –∏—Ö –æ—á–µ–Ω—å —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º
										Vladimir Nadulich: –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —Ñ–æ–Ω–∞—Ä–∏–∫ –Ω–æ—Ä–º)))–∞ —Ç–µ–±–µ –¥–ª—è —á–µ–≥–æ? —Å–∫–æ–ª—å–∫–æ –∫–∏–ª–æ–≤–∞—Ç—Ç?
					Aleksandr Shumakov: –ü–ª—ã–≤—É–Ω –ø–æ–π–º–∞–µ—à—å)–ò–ª–∏ –≤–æ–¥–∞ –∂–µ–ª—Ç–∞—è –±—É–¥–µ—Ç
						–ï–≤–≥–µ–Ω–∏–π –ê–∫–ø–∞–µ–≤: –ù–µ –Ω–∞ —Ç–∞–∫–æ–π –≥–ª—É–±–∏–Ω–µ. –ê —á—Ç–æ-–±—ã –∂—ë–ª—Ç–∞—è –Ω–µ –±—ã–ª–∞ (–∏–ª–∏ –µ—â—ë –∫–∞–∫–∞—è) –Ω–∞–¥–æ —á–∏—Å—Ç–∏—Ç—å
		Nikolay Verhovcev: —É –Ω–µ–≥–æ —Å–µ–º—å—è –±–æ–ª—å—à–∞—è
			John Doe: –í –ø–æ–ª–µ –∫–∞–∂–¥—ã–π –∫–æ–ª–æ—Å–æ–∫?
		Andrey Konev: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ –≤ —Å—Ä–µ–¥–Ω–µ–º —Å—ä–µ–¥–∞–µ—Ç 5 –∫–≥ —Å–æ–ª–∏ –≤ –≥–æ–¥
			John Doe: –ê —Ç—ã?
				Andrey Konev: –Ω–µ —Å—á–∏—Ç–∞–ª. –ù–∞–¥–µ—é—Å—å, —á—Ç–æ –º–µ–Ω—å—à–µ
					John Doe: –¢–∞–∫ –∏ –Ω–µ —Å–º–æ–∂–µ—à—å –ø–æ—Å—á–∏—Ç–∞—Ç—å, –±–ª—é–¥–∞ –∂–µ –ø–æ–∫—É–ø–Ω—ã–µ —Ç–∞–º –ø–æ—á—Ç–∏ –≤–µ–∑–¥–µ –æ–Ω–∞ –≤ —Å–æ—Å—Ç–∞–≤–µ
			–ö–∏—Ä–∏–ª–ª –ß–µ—Ä–Ω–µ–Ω–∫–æ: –Ø –∫–∞–∫–æ–π-—Ç–æ –Ω–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π`
	result, _ := cli.GetSummary(txt)
	fmt.Println(result)
}

//
//func Test_GetCommitMsg(t *testing.T) {
//	c := gomock.NewController(t)
//	defer c.Finish()
//
//
//	t.Run("error create", func(t *testing.T) {/**/
//		p := gomonkey.ApplyFunc(gigachat.NewInsecureClient, func(clientId string, clientSecret string) (*gigachat.Client, error) {
//			return nil, errors.New("error")
//		})
//		defer p.Reset()
//
//		cli, err := NewGigaClient(context.Background(), "111", "222")
//		assert.Nil(t, cli)
//		assert.EqualError(t, err, "newGigaClient error: error")
//	})
//	t.Run("auth error", func(t *testing.T) {
//		p := gomonkey.ApplyFunc(gigachat.NewInsecureClient, func(clientId string, clientSecret string) (*gigachat.Client, error) {
//			return new(gigachat.Client), nil
//		})
//		defer p.Reset()
//
//		client := mock_giga.NewMockIGigaClient(c)
//		client.EXPECT().AuthWithContext(gomock.Any()).Return(errors.New("error"))
//
//		cli, _ := NewGigaClient(context.Background(), "111", "222")
//		cli.client = client
//
//		_, _, _, err := cli.GetSpamPercent("")
//		assert.EqualError(t, err, "auth error: error")
//	})
//	t.Run("req error", func(t *testing.T) {
//		p := gomonkey.ApplyFunc(gigachat.NewInsecureClient, func(clientId string, clientSecret string) (*gigachat.Client, error) {
//			return new(gigachat.Client), nil
//		})
//		defer p.Reset()
//
//		client := mock_giga.NewMockIGigaClient(c)
//		client.EXPECT().AuthWithContext(gomock.Any()).Return(nil)
//		client.EXPECT().ChatWithContext(gomock.Any(), gomock.Any()).Return(nil, errors.New("error"))
//
//		cli, _ := NewGigaClient(context.Background(), "111", "222")
//		cli.client = client
//
//		_, _, _, err := cli.GetSpamPercent("tyuyu")
//		assert.EqualError(t, err, "request error: error")
//	})
//	t.Run("response does not contain data", func(t *testing.T) {
//		p := gomonkey.ApplyFunc(gigachat.NewInsecureClient, func(clientId string, clientSecret string) (*gigachat.Client, error) {
//			return new(gigachat.Client), nil
//		})
//		defer p.Reset()
//
//		client := mock_giga.NewMockIGigaClient(c)
//		client.EXPECT().AuthWithContext(gomock.Any()).Return(nil)
//		client.EXPECT().ChatWithContext(gomock.Any(), gomock.Any()).Return(&gigachat.ChatResponse{}, nil)
//
//		cli, _ := NewGigaClient(context.Background(), "111", "222")
//		cli.client = client
//
//		_, _, _, err := cli.GetSpamPercent("ghgh")
//		assert.EqualError(t, err, "response does not contain data")
//	})
//	t.Run("diff is not defined", func(t *testing.T) {
//		p := gomonkey.ApplyFunc(gigachat.NewInsecureClient, func(clientId string, clientSecret string) (*gigachat.Client, error) {
//			return new(gigachat.Client), nil
//		})
//		defer p.Reset()
//
//		client := mock_giga.NewMockIGigaClient(c)
//		client.EXPECT().AuthWithContext(gomock.Any()).Return(nil)
//
//		cli, _ := NewGigaClient(context.Background(), "111", "222")
//		cli.client = client
//
//		_, _, _, err := cli.GetSpamPercent("")
//		assert.EqualError(t, err, "message is not defined")
//	})
//	t.Run("pass", func(t *testing.T) {
//		p := gomonkey.ApplyFunc(gigachat.NewInsecureClient, func(clientId string, clientSecret string) (*gigachat.Client, error) {
//			return new(gigachat.Client), nil
//		})
//		defer p.Reset()
//
//		client := mock_giga.NewMockIGigaClient(c)
//		client.EXPECT().AuthWithContext(gomock.Any()).Return(nil)
//		client.EXPECT().ChatWithContext(gomock.Any(), gomock.Any()).Return(&gigachat.ChatResponse{
//			Choices: []gigachat.Choice{{Message: gigachat.Message{Content: "89|–≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ —Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç —Ñ—Ä–∞–∑–∞ –ø—Ä–æ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –∏ –∑–∞—Ä–∞–±–æ—Ç–æ–∫"}}},
//		}, nil)
//
//		cli, _ := NewGigaClient(context.Background(), "111", "222")
//		cli.client = client
//
//		s, perc, r, err := cli.GetSpamPercent("hjhj")
//		assert.NoError(t, err)
//		assert.Equal(t, "–≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ —Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç —Ñ—Ä–∞–∑–∞ –ø—Ä–æ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –∏ –∑–∞—Ä–∞–±–æ—Ç–æ–∫", r)
//		assert.True(t, s)
//		assert.Equal(t, perc, 89)
//	})
//}
